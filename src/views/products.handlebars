<html lang="es">

  <head>
    <meta charset="utf-8" />
    <title>Productos</title>
  </head>

  <body>

    <main
      style="max-width: 900px; margin: 40px auto; font-family: Arial, sans-serif;"
    >

      <header
        style="display:flex; justify-content:space-between; align-items:center;"
      >
        <h1>CatÃ¡logo de Productos</h1>

        <div>
          <a href="/cart" style="margin-right:15px;">ðŸ›’ Ver carrito</a>
          <a href="/api/sessions/current">ðŸ‘¤ Mi perfil</a>
          <a href="/api/sessions/logout">ðŸšª Cerrar sesiÃ³n</a>
        </div>
      </header>

      <hr />

      {{#if products.length}}

        <ul style="list-style:none; padding:0;">

          {{#each products}}
            <li
              style="border:1px solid #ddd; padding:15px; margin-bottom:10px;"
            >

              <h3 style="margin:0 0 8px 0;">{{this.title}}</h3>

              <p style="margin:4px 0;">
                <strong>Precio:</strong>
                ${{this.price}}
              </p>

              <p style="margin:4px 0;">
                <strong>CategorÃ­a:</strong>
                {{this.category}}
              </p>

              <p style="margin:4px 0;">
                <strong>Stock:</strong>
                {{this.stock}}
              </p>

              <button
                class="add-to-cart"
                data-product="{{this._id}}"
                style="margin-top:8px;"
              >
                Agregar al carrito
              </button>

            </li>
          {{/each}}

        </ul>

      {{else}}
        <p>No hay productos disponibles</p>
      {{/if}}

      <!-- paginaciÃ³n -->
      <section style="margin-top:30px; text-align:center;">

        {{#if hasPrevPage}}
          <a href="?page={{prevPage}}&limit={{limit}}">â¬… Anterior</a>
        {{/if}}

        <span style="margin:0 15px;">
          PÃ¡gina
          {{page}}
          de
          {{totalPages}}
        </span>

        {{#if hasNextPage}}
          <a href="?page={{nextPage}}&limit={{limit}}">Siguiente âž¡</a>
        {{/if}}

      </section>

      <hr style="margin:30px 0;" />

      <footer style="text-align:center;">
        <a href="/realtimeproducts">ðŸ“¡ Vista en tiempo real</a>
      </footer>

    </main>

    <script src="/js/products.js"></script>

  </body>

</html>