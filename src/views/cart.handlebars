<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>Carrito</title>
  </head>

  <body>

    <main
      style="max-width: 700px; margin: 40px auto; font-family: Arial, sans-serif;"
    >

      <h1>Carrito de Compras</h1>

      {{#if message}}
        <div
          style="padding:10px; background:#e6ffed; border:1px solid #b7f5c5; margin-bottom:15px;"
        >
          {{message}}
        </div>
      {{/if}}

      {{#if error}}
        <div
          style="padding:10px; background:#ffe6e6; border:1px solid #ffb3b3; margin-bottom:15px;"
        >
          {{error}}
        </div>
      {{/if}}

      {{#if cart.products.length}}

        <table width="100%" border="1" cellpadding="8" cellspacing="0">
          <thead>
            <tr>
              <th align="left">Producto</th>
              <th>Precio</th>
              <th>Cantidad</th>
              <th>Subtotal</th>
            </tr>
          </thead>

          <tbody>
            {{#each cart.products}}
              <tr>
                <td>{{this.product.title}}</td>
                <td align="center">${{this.product.price}}</td>
                <td align="center">{{this.quantity}}</td>
                <td align="center">${{this.subtotal}}</td>
              </tr>
            {{/each}}
          </tbody>
        </table>

        <h2 style="margin-top:20px;">
          Total: ${{total}}
        </h2>

        <div style="margin-top:20px; display:flex; gap:12px;">

          <button id="purchaseBtn">
            Finalizar compra
          </button>

        </div>

      {{else}}

        <p><strong>El carrito está vacío</strong></p>

      {{/if}}

      <hr style="margin:30px 0;" />

      <a href="/products">← Seguir comprando</a>

    </main>

    <script src="/js/cart.js"></script>

  </body>
</html>